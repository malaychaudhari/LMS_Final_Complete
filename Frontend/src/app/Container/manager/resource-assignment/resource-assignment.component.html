<div class="inventory">
  <div class="header">
    <div class="heading">
      <h1>Resource Assignment</h1>
    </div>
  </div>

  <div *ngIf="pendingOrders.length < 1" class="card mt-5 p-5">
    <h1 class="text-center">No Pending Orders Available</h1>
  </div>

  <div *ngIf="pendingOrders.length > 0" class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>userName</th>
        <td mat-cell *matCellDef="let row">{{ row.userName }}</td>
      </ng-container>

      <ng-container matColumnDef="orderDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>orderDate</th>
        <td mat-cell *matCellDef="let row">{{ row.orderDate }}</td>
      </ng-container>

      <ng-container matColumnDef="inventoryId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>inventoryId</th>
        <td mat-cell *matCellDef="let row">{{ row.inventoryId }}</td>
      </ng-container>

      <ng-container matColumnDef="statusId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>statusId</th>
        <td mat-cell *matCellDef="let row">{{ row.statusId }}</td>
      </ng-container>

      <form [formGroup]="ResorceAllocationForm">
        <ng-container matColumnDef="selectDriver">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Select Driver
          </th>
          <td mat-cell *matCellDef="let row" style="max-width: 200px">
            <select
              class="form-select form-control"
              formControlName="selectedDriver"
              id="category"
              aria-label="Default select example"
            >
              <option value="default" disabled>Id | Name</option>
              <option *ngFor="let item of availabelDrivers" [value]="item.id">
                {{ item.id }}&nbsp;&nbsp; | &nbsp;&nbsp;{{ item.name }}
              </option>
            </select>
          </td>
        </ng-container>

        <ng-container matColumnDef="selectVehicle">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Select Vehicle
          </th>
          <td mat-cell *matCellDef="let row" style="max-width: 200px">
            <select
              class="form-select form-control"
              formControlName="selectedVehicle"
              id="category"
              aria-label="Default select example"
            >
              <option value="default" disabled>Id | Type</option>
              <option *ngFor="let item of availableVehicles" [value]="item.id">
                {{ item.id }} &nbsp;&nbsp; | &nbsp;&nbsp; {{ item.vehicleType }}
              </option>
            </select>
          </td>
        </ng-container>
      </form>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>action</th>
        <td mat-cell *matCellDef="let row">
          <button class="Assign_button" (click)="onAssignOrderClick(row.id)">
            Assign Order
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
