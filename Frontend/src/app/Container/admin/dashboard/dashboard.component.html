<div class="container-fluid">
  <div class="h2">
    Dashboard
    <hr />
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-xl col-md-6 col-12 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="align-items-center row">
            <div class="col">
              <h6 class="text-uppercase text-muted mb-2">Total Sales</h6>
              <span class="h2 mb-0">{{
                statisticsData.totalSalesAmount | currency : "INR"
              }}</span>
            </div>
            <div class="col-auto">
              <img
                src="../../../../assets/Images/Common/sales2_svg.svg"
                alt=""
                height="50px"
                width="50px"
                class="img-fluid"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl col-md-6 col-12 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="align-items-center row">
            <div class="col">
              <h6 class="text-uppercase text-muted mb-2">Total Orders</h6>
              <span class="h2 mb-0">{{ statisticsData.totalOrdersCount }}</span>
            </div>
            <div class="col-auto">
              <img
                src="../../../../assets/Images/Common/cart2_svg.svg"
                alt=""
                height="50px"
                width="50px"
                class="img-fluid"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl col-md-6 col-12 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="align-items-center row">
            <div class="col">
              <h6 class="text-uppercase text-muted mb-2">users</h6>
              <span class="h2 mb-0">{{
                statisticsData.customersCount +
                  statisticsData.driversCount +
                  statisticsData.managersCount
              }}</span>
            </div>
            <div class="col-auto">
              <img
                src="../../../../assets/Images/Common/user_svg.svg"
                alt=""
                height="50px"
                width="50px"
                class="img-fluid"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl col-md-6 col-12 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="align-items-center row">
            <div class="col">
              <h6 class="text-uppercase text-muted mb-2">Warehouses</h6>
              <span class="h2 mb-0">{{ statisticsData.warehousesCount }}</span>
            </div>
            <div class="col-auto">
              <img
                src="../../../../assets/Images/Common/warehouse_svg.svg"
                alt=""
                height="50px"
                width="50px"
                class="img-fluid"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- <div
  class="w-15 h-25 d-flex align-items-center justify-content-center"
  *ngIf="isLoading"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 200 200"
    style="height: 200px; width: 100px"
  >
    <circle
      fill="#E61362"
      stroke="#E61362"
      stroke-width="2"
      r="15"
      cx="40"
      cy="65"
    >
      <animate
        attributeName="cy"
        calcMode="spline"
        dur="2"
        values="65;135;65;"
        keySplines=".5 0 .5 1;.5 0 .5 1"
        repeatCount="indefinite"
        begin="-.4"
      ></animate>
    </circle>
    <circle
      fill="#E61362"
      stroke="#E61362"
      stroke-width="2"
      r="15"
      cx="100"
      cy="65"
    >
      <animate
        attributeName="cy"
        calcMode="spline"
        dur="2"
        values="65;135;65;"
        keySplines=".5 0 .5 1;.5 0 .5 1"
        repeatCount="indefinite"
        begin="-.2"
      ></animate>
    </circle>
    <circle
      fill="#E61362"
      stroke="#E61362"
      stroke-width="2"
      r="15"
      cx="160"
      cy="65"
    >
      <animate
        attributeName="cy"
        calcMode="spline"
        dur="2"
        values="65;135;65;"
        keySplines=".5 0 .5 1;.5 0 .5 1"
        repeatCount="indefinite"
        begin="0"
      ></animate>
    </circle>
  </svg>
</div> -->

<div class="container-fluid mt-4">
  <div class="">
    <div class="h2">
      Recent Orders
      <hr />
    </div>
  </div>
  <div *ngIf="orders.length < 1" class="card mt-5 p-5">
    <h1 class="text-center">No Orders Available</h1>
  </div>

  <div *ngIf="orders.length > 0" class="inventory_table">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="announceSortChange($event)"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="id">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by id"
        >
          Id
        </th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>

      <ng-container matColumnDef="userName">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by userName"
        >
          Customer Name
        </th>
        <td mat-cell *matCellDef="let element">{{ element.userName }}</td>
      </ng-container>

      <ng-container matColumnDef="orderDate">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by orderDate"
        >
          orderDate
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.orderDate | date : "dd MMM yyyy " }}
        </td>
      </ng-container>

      <ng-container matColumnDef="totalAmount">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by totalAmount"
        >
          totalAmount
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.totalAmount | currency : "INR" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="inventoryName">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by inventoryName"
        >
          Inventory Name
        </th>
        <td mat-cell *matCellDef="let element">{{ element.inventoryName }}</td>
      </ng-container>

      <ng-container matColumnDef="quantity">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by quantity"
        >
          Quantity
        </th>
        <td mat-cell *matCellDef="let element">{{ element.quantity }}</td>
      </ng-container>

      <ng-container matColumnDef="statusId">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by statusId"
        >
          statusId
        </th>
        <td mat-cell *matCellDef="let element">
          <span
            class="badge text-bg-secondary p-2"
            *ngIf="element.statusId == 1"
          >
            <span class="h6"> Placed</span>
          </span>
          <span class="badge text-bg-primary p-2" *ngIf="element.statusId == 2">
            <span class="h6"> Out for delivery</span>
          </span>
          <span class="badge text-bg-success p-2" *ngIf="element.statusId == 3">
            <span class="h6"> Deliverd</span>
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
